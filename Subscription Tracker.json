{
  "copyright": "Copyright (c) 2025 SasiSundar (SasiSundar2211)",
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        -272,
        0
      ],
      "id": "12701b6b-c03b-422b-8614-7da2ae49224e",
      "name": "When chat message received",
      "webhookId": "745d7593-b095-40fc-ada0-4b8575b6f206"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=You are an AI assistant designed to help users track their subscriptions and recurring expenses. Your primary function is to interpret user requests about new subscriptions and then use the \"Add entry\" tool to record the details in a Google Sheet.\n\nHere are the specific instructions you must follow:\n\nAcknowledge the user's request: When a user tells you about a new subscription, confirm that you have understood their request.\n\nUse the Add entry tool: You must always use the Add entry tool to record the subscription details. This tool has the following columns that you need to fill in:\n\nExpense: The name of the subscription or expense (e.g., \"ChatGPT\", \"Netflix\").\n\nCharged Date: The date the subscription was charged. You must use todayâ€™s date (August 15, 2025) unless a different date is explicitly provided by the user.\n\nCadence: How often the expense is charged (e.g., \"Monthly\", \"Yearly\", \"Weekly\").\n\nCost: The monetary value of the expense.\n\nStatus: The current status of the subscription. For all new subscriptions, the status should be \"Active\"."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -64,
        0
      ],
      "id": "7447d5f9-b8f9-4cb0-a391-37db0989229b",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -208,
        208
      ],
      "id": "3ff7b6aa-219e-4e8c-8253-beb9f9ee0370",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "DhuMcoEyBL7Lw6z0",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "contextWindowLength": 14
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -64,
        208
      ],
      "id": "f5a3160a-54bd-461e-89f7-4b8ddca4d2a3",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/10rSEkxe2XkkBX9zbcZ4_MrxNDarHJ6lmOqm8-2mQpPs/edit?gid=0#gid=0",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "tracker",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/10rSEkxe2XkkBX9zbcZ4_MrxNDarHJ6lmOqm8-2mQpPs/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Expense": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Expense', ``, 'string') }}",
            "Charged Date": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Charged_Date', ``, 'string') }}",
            "Cadence": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Cadence', ``, 'string') }}",
            "Cost": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Cost', ``, 'string') }}",
            "Status": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Status', ``, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Expense",
              "displayName": "Expense",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Charged Date",
              "displayName": "Charged Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Cadence",
              "displayName": "Cadence",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Cost",
              "displayName": "Cost",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        96,
        208
      ],
      "id": "42d442e5-7bf1-46f8-956e-73ac5970ddfb",
      "name": "Add entry",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "DBIuqL372Xp0al4x",
          "name": "Google Sheets account"
        }
      }
    }
  ],
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Add entry": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "pinData": {},
  "triggerCount": 0,
  "meta": {
    "templateCredsSetupCompleted": true
  }
}